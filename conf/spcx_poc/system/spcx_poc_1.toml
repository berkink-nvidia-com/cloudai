name = "SPC-X-POC"
scheduler = "slurm"

install_path = "./install"
output_path = "./results"
default_partition = "ISR1-PRE"

gpus_per_node = 8
ntasks_per_node = 8

[partitions]
  [partitions.ISR1_PRE]
  name = "ISR1-PRE"
  nodes = ["hgx-isr1-pre-[01-16]"]

[global_env_vars]
  # NCCL General Configuration
  NCCL_SOCKET_IFNAME = "eno8303"

  # NCCL InfiniBand (IB) Specific Configurations
  NCCL_IB_GID_INDEX = "3"
  NCCL_IB_TC = "96"
  NCCL_IB_HCA = "=mlx5_0:1,mlx5_3:1,mlx5_4:1,mlx5_5:1,mlx5_6:1,mlx5_9:1,mlx5_10:1,mlx5_11:1"
  NCCL_IB_TIMEOUT = "20"
  NCCL_IB_ADAPTIVE_ROUTING = "1"
  NCCL_IB_SPLIT_DATA_ON_QPS = "0"
  NCCL_IBEXT_DISABLE = "0"
  NCCL_COLLNET_ENABLE = "0"
  NCCL_SHM_DISABLE = "0"
  NCCL_P2P_DISABLE = "0"
  NCCL_PXN_DISABLE = "1" # (default is 0)
  NCCL_P2P_PXN_LEVEL = "0" # (default is 2)
#  NCCL_NCHANNELS_PER_NET_PEER = "2"
  NCCL_CROSS_NIC = "1"

  # UCX Configuration
  UCX_IB_TRAFFIC_CLASS = "96"
  UCX_IB_GID_INDEX = 3
  UCX_TLS = "rc,sm"

  # Device Visibility Configuration
  MELLANOX_VISIBLE_DEVICES = "0,3,4,5,6,9,10,11"
  CUDA_VISIBLE_DEVICES = "0,1,2,3,4,5,6,7"
 

  

 
